"use strict";
document.addEventListener("DOMContentLoaded", function () {
  var e = {
    mainApi: function (t) {
      (document.querySelector(".creators-stat").textContent = niceNumber(
        Object.values(t.metrics.categories).reduce(function (e, t) {
          return e + t;
        }, 0),
        1
      )),
        (document.querySelector(".dau-stat").textContent = niceNumber(
          t.users[Object.keys(t.users)[0]].dau,
          1
        )),
        (document.querySelector(".mau-stat").textContent = niceNumber(
          t.users[Object.keys(t.users)[0]].mau,
          1
        )),
        (document.querySelector(".youtube-stat").textContent = niceNumber(
          t.metrics.categories.YouTube
        )),
        (document.querySelector(".twitter-stat").textContent = niceNumber(
          t.metrics.categories.Twitter
        )),
        (document.querySelector(".twitch-stat").textContent = niceNumber(
          t.metrics.categories.Twitch
        )),
        (document.querySelector(".transactions-stat").textContent = niceNumber(
          t.bat.transactions,
          1
        )),
        (document.querySelector(".wallets-stat").textContent = niceNumber(
          t.wallets,
          2
        ));
      for (var s = 0, o = 0, n = 0; n < t.braveAds.length; n++)
        t.braveAds[n].country.length < 3 &&
          ((s += Number(t.braveAds[n].count)), o++);
      (document.querySelector(".campaign-count").textContent =
        "+" + niceNumber(s, 1)),
        (document.querySelector(".country-count").textContent = niceNumber(o));
    },
  };
  fetch("https://brave.com/transparency-data.json")
    .then(function (e) {
      return e.json();
    })
    .then(function (t) {
      e.mainApi(t);
    })
    .catch(function () {
      console.log("Couldn't load data");
    });
});
function niceNumber(e) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
  return e < 1e3
    ? round(e, t)
    : e / 1e3 < 1e3
    ? round(e / 1e3, t) + "K"
    : e / 1e6 < 1e3
    ? round(e / 1e6, t) + "M"
    : round(e / 1e9, t) + "B";
}
function round(e, t) {
  return Number(Math.floor(e + "e" + t) + "e-" + t);
}
